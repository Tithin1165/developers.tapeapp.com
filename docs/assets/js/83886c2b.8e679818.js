"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[835],{1680:(t,e,o)=>{o.d(e,{Z:()=>s});var a=o(6010),n=o(7294);const i="shadow_cl6l";function s(t){var e=t.children;return n.createElement("div",{className:(0,a.Z)(i)},e)}},1298:(t,e,o)=>{o.r(e),o.d(e,{assets:()=>m,contentTitle:()=>p,default:()=>v,frontMatter:()=>c,metadata:()=>u,toc:()=>f});var a=o(7462),n=o(3366),i=(o(7294),o(3905));const s=o.p+"assets/images/convert-pdf-to-text-f50928a9af3f181dc16341b7445b47eb.png",r=o.p+"assets/medias/convert-pdf-to-text-record-ca0c2afd4a9e9b10772f1c2b50a2ef56.mp4";var d=o(1680),l=["components"],c={id:"convert-pdf-to-text",title:"Convert a PDF file to text"},p=void 0,u={unversionedId:"guide/automations/convert-pdf-to-text",id:"guide/automations/convert-pdf-to-text",title:"Convert a PDF file to text",description:"A lot of business processes involve the processing of files. Instead of manually looking through a file and copying out the text content, we can automate this task using Tape automations. In this guide, we will create an automation that extracts the text of an attached PDF file and saves it inside the description field of the record.",source:"@site/docs/guide/automations/convert-pdf-to-text.md",sourceDirName:"guide/automations",slug:"/guide/automations/convert-pdf-to-text",permalink:"/docs/guide/automations/convert-pdf-to-text",editUrl:"https://github.com/tape-dev/developers.tapeapp.com/edit/main/apps/dev-portal/docs/guide/automations/convert-pdf-to-text.md",tags:[],version:"current",frontMatter:{id:"convert-pdf-to-text",title:"Convert a PDF file to text"},sidebar:"guidesSidebar",previous:{title:"Getting Started",permalink:"/docs/guide/api/getting-started"},next:{title:"Connect Google Forms to Tape",permalink:"/docs/guide/automations/save-google-form-responses-to-tape"}},m={},f=[{value:"Automation",id:"automation",level:2},{value:"Demo Record Video",id:"demo-record-video",level:2}],h={toc:f};function v(t){var e=t.components,o=(0,n.Z)(t,l);return(0,i.kt)("wrapper",(0,a.Z)({},h,o,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"A lot of business processes involve the processing of files. Instead of manually looking through a file and copying out the text content, we can automate this task using Tape automations. In this guide, we will create an automation that extracts the text of an attached PDF file and saves it inside the description field of the record."),(0,i.kt)("h2",{id:"automation"},"Automation"),(0,i.kt)("p",null,"The automation consists of the following steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Trigger when a new task record is created."),(0,i.kt)("li",{parentName:"ol"},"Only continue if the created task has an attachment."),(0,i.kt)("li",{parentName:"ol"},"Use the script action to send the attached file to a conversion API service via the ",(0,i.kt)("inlineCode",{parentName:"li"},"http.upload")," function."),(0,i.kt)("li",{parentName:"ol"},"Process the HTTP response (it is base64 encoded so we decode it using ",(0,i.kt)("inlineCode",{parentName:"li"},"Buffer.from"),") and store the result in our custom variable ",(0,i.kt)("strong",{parentName:"li"},"PDF plaintext")),(0,i.kt)("li",{parentName:"ol"},"Update the created task's description with the content of the ",(0,i.kt)("strong",{parentName:"li"},"PDF plaintext")," variable")),(0,i.kt)("p",null,"We need the following 2 lines of code to perform steps (3) and (4):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const { data } = await http.upload(\n  'https://v2.convertapi.com/convert/pdf/to/txt?Secret=YOUR_SECRET_HERE',\n  task_field_attachment_file_url\n);\n\nvar_pdf_plaintext = Buffer.from(data.Files[0].FileData, 'base64');\n")),(0,i.kt)("p",null,"The final automation looks like this:"),(0,i.kt)(d.Z,{mdxType:"MediaFrame"},(0,i.kt)("img",{src:s})),(0,i.kt)("br",null),"This simple example using PDF files also works for various other file formats like Word documents or PowerPoint presentations. The extracted text can be further processed e.g., by using a conditional action to assign a user based on a keyword (\"When the PDF contains the word 'legal', assign John\").",(0,i.kt)("h2",{id:"demo-record-video"},"Demo Record Video"),(0,i.kt)("p",null,"Let's test our automation by creating a new task with an attached PDF document:"),(0,i.kt)(d.Z,{mdxType:"MediaFrame"},(0,i.kt)("video",{width:"100%",controls:!0,muted:!0,preload:"metadata",src:r})))}v.isMDXComponent=!0}}]);