"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[5359],{855:(e,t,n)=>{n.d(t,{BZ:()=>u,IB:()=>c,U4:()=>a,Wb:()=>i,hU:()=>p,j6:()=>l,rD:()=>s,zM:()=>r});var r="Developer",a="user_key_replace_with_your_api_key";function i(e){return e.activeUserState||{}}function o(e){return i(e).context}function l(e,t){e.activeUserState=e.activeUserState||{},e.activeUserState.context=t}function u(e){var t,n=i(e);return!n||(null==(t=n.isLoading)||t)}function s(e,t){e.activeUserState=e.activeUserState||{},e.activeUserState.isLoading=t}function c(e){var t=o(e);if(t)return t.apiKey}function p(e){var t=o(e);if(t&&t.user)return t.user.primaryName}},9212:(e,t,n)=>{n.d(t,{B:()=>b});var r=n(7185),a=n(6188),i=JSON.stringify({operationName:null,variables:{},query:"{\n  getActiveUserDevPortalDemoBlabItem {\n    id\n    title\n  }\n}"}),o={"content-type":"application/json"};var l=n(855),u=n(5861),s=n(7757),c=n.n(s),p=JSON.stringify({operationName:null,variables:{},query:"{\n  getActiveUserDevPortalContext {\n    ... on ActiveUserDevPortalContextDto {\n      userId\n      apiKey\n      user {\n        id\n        primaryName\n      }\n    }\n  }\n}\n"}),d=JSON.stringify({operationName:null,variables:{},query:"{\n      getUserSessions {\n        active\n        userId\n      }\n    }\n"}),f={"content-type":"application/json"};function v(e,t){return fetch((0,a.S)(t)+"/graphql/getActiveUserDevPortalContext",{method:"POST",headers:Object.assign({},f,{uid:e}),credentials:"include",mode:"cors",body:p}).then((function(e){return e.text()})).then((function(e){var t,n=JSON.parse(e);return(null==n||null==(t=n.data)?void 0:t.getActiveUserDevPortalContext)||{}}))}function m(e){return fetch((0,a.S)(e)+"/graphql/getUserSessions",{method:"POST",headers:f,credentials:"include",mode:"cors",body:d}).then((function(e){return e.text()})).then((function(e){var t,n=JSON.parse(e);return(null==n||null==(t=n.data)?void 0:t.getUserSessions)||[]}))}function h(){return(h=(0,u.Z)(c().mark((function e(t){var n,r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:if(n=e.sent,(r=n.filter((function(e){return e.active}))).length){e.next=6;break}return e.abrupt("return",{});case 6:return a=r[0].userId,e.next=9,v(a,t);case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=!1,b=function(e,t){var n=e.customFields.runtime,u=(0,l.Wb)(e);if(!g&&!u.isLoading&&!u.context){g=!0;(function(e){return h.apply(this,arguments)})(n).then((function(n){return g=!1,(0,l.rD)(e,!1),(0,l.j6)(e,n),t(Date.now()),n})).then((function(e){return function(e,t){return fetch((0,a.S)(t)+"/graphql/getActiveUserDevPortalDemoRecord",{method:"POST",headers:Object.assign({},o,{uid:e}),credentials:"include",mode:"cors",body:i}).then((function(e){return e.text()})).then((function(e){var t,n=JSON.parse(e);return(null==n||null==(t=n.data)?void 0:t.getActiveUserDevPortalDemoBlabItem)||{}}))}(e.userId,n)})).then((function(n){(0,r.LW)(e,n),t(Date.now())})).catch((function(){g=!1,(0,l.rD)(e,!1),t(Date.now())}))}}},8793:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(2263),a=n(1736),i=n(7294),o=n(855),l=n(9212),u=n(6188),s=n(6010);const c="codeBlock_L4rF";var p=n(7185);function d(e){var t,n,d,f=e.children,v=e.language,m=e.title,h=(0,i.useState)(Date.now()),g=(h[0],h[1]),b=(0,r.Z)().siteConfig;(0,i.useEffect)((function(){(0,l.B)(b,g)}),[]);var y=null!=(t=(0,o.IB)(b))?t:o.U4,x=null!=(n=(0,p.P4)(b))?n:p.hx,k=null!=(d=(0,p.Kh)(b))?d:p.Ye,E=(0,u.x)(b);function S(e){return(e||"").replace(new RegExp("#USER_API_KEY","g"),y).replace(new RegExp("#BASE_URL","g"),E).replace(new RegExp("#RECORD_ID","g"),x).replace(new RegExp("#RECORD_TITLE","g"),k)}var D=("string"==typeof f?[f]:Array.isArray(f)?f:[]).map((function(e){return"string"==typeof e?S(e):e})),T=S(m);return i.createElement("div",{className:(0,s.Z)(c)},i.createElement(a.Z,{title:T,language:v},D))}},7185:(e,t,n)=>{n.d(t,{Kh:()=>l,LW:()=>o,P4:()=>u,Ye:()=>r,hx:()=>a});var r="Demo Record",a=123;function i(e){return e.demoRecord||{}}function o(e,t){e.demoRecord=null!=t?t:{}}function l(e){return i(e).title}function u(e){return i(e).id}},2566:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294);function a(e){var t,n=e.method,a=e.url;switch(n){case"GET":t="#007959";break;case"POST":t="#0071BB";break;case"PUT":t="#DEA700";break;case"DELETE":t="#DF245E"}return r.createElement("div",{style:{display:"flex",flexDirection:"row",fontSize:"15px",lineHeight:"15px",marginBottom:"13px"}},r.createElement("span",{style:{backgroundColor:t,color:"var(--tape-color-lightest)",borderRadius:"999px",padding:"4px 9px 3px 9px",fontWeight:700,fontSize:"11px",lineHeight:"11px"}},n.toUpperCase()),r.createElement("span",{style:{color:"var(--tape-color-darker)",marginLeft:"9px",marginTop:"2px"}},a))}},6188:(e,t,n)=>{n.d(t,{S:()=>i,x:()=>o});var r="https://tapeapp.com",a="https://api.tapeapp.com";function i(e){var t,n="string"==typeof e?e:null==e||null==(t=e.customFields)?void 0:t.runtime;return"PRD"===n.toUpperCase()?r:"DEV"===n.toUpperCase()?"http://localhost:3000":r}function o(e){var t,n="string"==typeof e?e:null==e||null==(t=e.customFields)?void 0:t.runtime;return"PRD"===n.toUpperCase()?a:"DEV"===n.toUpperCase()?"http://localhost:3000":a}},8215:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294);function a(e){var t=e.children,n=e.hidden,a=e.className;return r.createElement("div",{role:"tabpanel",hidden:n,className:a},t)}},9877:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(7462),a=n(7294),i=n(2389),o=n(3725),l=n(6010);const u="tabItem_LplD";function s(e){var t,n,i,s=e.lazy,c=e.block,p=e.defaultValue,d=e.values,f=e.groupId,v=e.className,m=a.Children.map(e.children,(function(e){if((0,a.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=d?d:m.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),g=(0,o.lx)(h,(function(e,t){return e.value===t.value}));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var b=null===p?p:null!=(t=null!=p?p:null==(n=m.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(i=m[0])?void 0:i.props.value;if(null!==b&&!h.some((function(e){return e.value===b})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+b+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=(0,o.UB)(),x=y.tabGroupChoices,k=y.setTabGroupChoices,E=(0,a.useState)(b),S=E[0],D=E[1],T=[],U=(0,o.o5)().blockElementScrollPositionUntilNextRender;if(null!=f){var w=x[f];null!=w&&w!==S&&h.some((function(e){return e.value===w}))&&D(w)}var N=function(e){var t=e.currentTarget,n=T.indexOf(t),r=h[n].value;r!==S&&(U(t),D(r),null!=f&&k(f,r))},_=function(e){var t,n=null;switch(e.key){case"ArrowRight":var r=T.indexOf(e.currentTarget)+1;n=T[r]||T[0];break;case"ArrowLeft":var a=T.indexOf(e.currentTarget)-1;n=T[a]||T[T.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":c},v)},h.map((function(e){var t=e.value,n=e.label,i=e.attributes;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:S===t?0:-1,"aria-selected":S===t,key:t,ref:function(e){return T.push(e)},onKeyDown:_,onFocus:N,onClick:N},i,{className:(0,l.Z)("tabs__item",u,null==i?void 0:i.className,{"tabs__item--active":S===t})}),null!=n?n:t)}))),s?(0,a.cloneElement)(m.filter((function(e){return e.props.value===S}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},m.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==S})}))))}function c(e){var t=(0,i.Z)();return a.createElement(s,(0,r.Z)({key:String(t)},e))}},5189:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>v,contentTitle:()=>d,default:()=>g,frontMatter:()=>p,metadata:()=>f,toc:()=>m});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=n(8793),l=n(2566),u=n(9877),s=n(8215),c=["components"],p={id:"files",title:"Files",sidebar_label:"Files"},d=void 0,f={unversionedId:"api/resource/files",id:"api/resource/files",title:"Files",description:"Files have a name, a mime-type, a size and a download link.",source:"@site/docs/api/resource/files.md",sourceDirName:"api/resource",slug:"/api/resource/files",permalink:"/docs/api/resource/files",editUrl:"https://github.com/tape-dev/developers.tapeapp.com/edit/main/apps/dev-portal/docs/api/resource/files.md",tags:[],version:"current",frontMatter:{id:"files",title:"Files",sidebar_label:"Files"},sidebar:"mainSidebar",previous:{title:"Workspace",permalink:"/docs/api/resource/workspace"},next:{title:"Introduction",permalink:"/docs/calculation/introduction"}},v={},m=[{value:"Uploading Files",id:"uploading-files",level:2}],h={toc:m};function g(e){var t=e.components,n=(0,a.Z)(e,c);return(0,i.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Files have a name, a mime-type, a size and a download link.\nSince most files are binary, use ",(0,i.kt)("inlineCode",{parentName:"p"},"multipart/form-data")," instead of JSON when uploading files."),(0,i.kt)("h2",{id:"uploading-files"},"Uploading Files"),(0,i.kt)(l.Z,{method:"POST",url:"https://api.tapeapp.com/v1/upload",mdxType:"EndpointBadge"}),(0,i.kt)("p",null,"When uploading files to Tape, use the dedicated endpoint to create a temporary file reference first:"),(0,i.kt)(u.Z,{mdxType:"Tabs"},(0,i.kt)(s.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,i.kt)(o.Z,{language:"shell",mdxType:"ApiKeyCodeblock"},"curl #BASE_URL/v1/upload \\\n  -u #USER_API_KEY: \\\n  -F 'file=@./filename.txt'\n")),(0,i.kt)(s.Z,{value:"http",label:"HTTP",mdxType:"TabItem"},(0,i.kt)(o.Z,{language:"http",mdxType:"ApiKeyCodeblock"},"POST /v1/upload HTTP/1.1\nHost: api.tapeapp.com\nAuthorization: Bearer #USER_API_KEY\nAccept: */*\nContent-Length: 123\nContent-Type: multipart/form-data"))),(0,i.kt)("p",null,"You receive a file reference, that can then be used when creating or updating a resource. See the example below to attach a file to a single attachment field:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "temporaryFileId": "12341234-12341234-12341234",\n  "size": 1024,\n  "downloadUrl": "https://files.tapeapp.com/4312sadfdsa41sdfsdaf324324321413243asfsdf"\n}\n')))}g.isMDXComponent=!0}}]);