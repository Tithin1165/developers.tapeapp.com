"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[5903],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),f=r,m=d["".concat(s,".").concat(f)]||d[f]||p[f]||i;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5897:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>f,frontMatter:()=>l,metadata:()=>c,toc:()=>p});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],l={id:"introduction",title:"Calculation Field",sidebar_label:"Introduction"},s=void 0,c={unversionedId:"calculation/introduction",id:"calculation/introduction",title:"Calculation Field",description:'Calculated fields can be used to easily manipulate data added to an app. With this very powerful tool, you can not only do math on numbers in your app, but also concatenate values \u200b\u200bin specific fields. Use variables to add values \u200b\u200bto calculated fields. Use the "@" symbol to search for variables in your app. You can reference any field in your app, and any field in the referenced app.',source:"@site/docs/calculation/general.md",sourceDirName:"calculation",slug:"/calculation/introduction",permalink:"/docs/calculation/introduction",editUrl:"https://github.com/tape-dev/developers.tapeapp.com/edit/main/apps/dev-portal/docs/calculation/general.md",tags:[],version:"current",frontMatter:{id:"introduction",title:"Calculation Field",sidebar_label:"Introduction"},sidebar:"mainSidebar",previous:{title:"Link Preview",permalink:"/docs/api/resource/link-preview"},next:{title:"Libraries",permalink:"/docs/calculation/libraries"}},u={},p=[{value:"Execution environment",id:"execution-environment",level:3},{value:"Client-side JavaScript",id:"client-side-javascript",level:3},{value:"Timeouts",id:"timeouts",level:3},{value:"Template literals",id:"template-literals",level:3}],d={toc:p};function f(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,'Calculated fields can be used to easily manipulate data added to an app. With this very powerful tool, you can not only do math on numbers in your app, but also concatenate values \u200b\u200bin specific fields. Use variables to add values \u200b\u200bto calculated fields. Use the "@" symbol to search for variables in your app. You can reference any field in your app, and any field in the referenced app.'),(0,i.kt)("h3",{id:"execution-environment"},"Execution environment"),(0,i.kt)("p",null,"The script of a calculation field is written in JavaScript. In order to calculate the value of a record's calculation field, the Tape server gathers all the script's variables values from the database and executes the script on the server. The script is executed inside a Node.js version 12 environment, so you can use ",(0,i.kt)("a",{parentName:"p",href:"https://www.javascripttutorial.net/es6/"},"ES6")," syntax with all its cool features \ud83c\udf89"),(0,i.kt)("h3",{id:"client-side-javascript"},"Client-side JavaScript"),(0,i.kt)("p",null,"Tape does not support the execution of user-provided JavaScript in the client applications due to security reasons. Your JavaScript is executed on the server in an isolated and secure environment, the client only renders the result of the calculation."),(0,i.kt)("h3",{id:"timeouts"},"Timeouts"),(0,i.kt)("p",null,"Tape has to limit the time a calculation takes to execute so that the overall performance of the system can be guaranteed. Usually, your script should not take more than a couple of milliseconds to complete. Therefore, asynchronous JavaScript features like Promises, ",(0,i.kt)("inlineCode",{parentName:"p"},"setTimeout")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"setInterval")," cannot be used inside a calculation. If a timeout occurrs, the field value that was being calculated is marked as ",(0,i.kt)("inlineCode",{parentName:"p"},"invalid"),"."),(0,i.kt)("h3",{id:"template-literals"},"Template literals"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals"},"Template literals")," are an amazing feature of ES6. They are very useful for string interpolation (and multiline strings, since unescaped newlines are allowed). They allow you to easily include newlines and variables in the result of your calculation field. Here are some basic examples of the syntax:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"// A normal string\n`string text`;\n\n// Multi-line string\n`string text line 1\n string text line 2`;\n\n// String with substitution\n`string text ${expression} string text`;\n")))}f.isMDXComponent=!0}}]);