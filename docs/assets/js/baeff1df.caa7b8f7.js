"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[5897],{855:(e,t,n)=>{n.d(t,{BZ:()=>s,IB:()=>c,U4:()=>r,Wb:()=>i,hU:()=>d,j6:()=>u,rD:()=>l,zM:()=>a});var a="Developer",r="user_key_replace_with_your_api_key";function i(e){return e.activeUserState||{}}function o(e){return i(e).context}function u(e,t){e.activeUserState=e.activeUserState||{},e.activeUserState.context=t}function s(e){var t,n=i(e);return!n||(null==(t=n.isLoading)||t)}function l(e,t){e.activeUserState=e.activeUserState||{},e.activeUserState.isLoading=t}function c(e){var t=o(e);if(t)return t.apiKey}function d(e){var t=o(e);if(t&&t.user)return t.user.primaryName}},9212:(e,t,n)=>{n.d(t,{B:()=>y});var a=n(7185),r=n(6188),i=JSON.stringify({operationName:null,variables:{},query:"{\n  getActiveUserDevPortalDemoBlabItem {\n    id\n    title\n  }\n}"}),o={"content-type":"application/json"};var u=n(855),s=n(5861),l=n(7757),c=n.n(l),d=JSON.stringify({operationName:null,variables:{},query:"{\n  getActiveUserDevPortalContext {\n    ... on ActiveUserDevPortalContextDto {\n      userId\n      apiKey\n      user {\n        id\n        primaryName\n      }\n    }\n  }\n}\n"}),p=JSON.stringify({operationName:null,variables:{},query:"{\n      getUserSessions {\n        active\n        userId\n      }\n    }\n"}),v={"content-type":"application/json"};function h(e,t){return fetch((0,r.S)(t)+"/graphql/getActiveUserDevPortalContext",{method:"POST",headers:Object.assign({},v,{uid:e}),credentials:"include",mode:"cors",body:d}).then((function(e){return e.text()})).then((function(e){var t,n=JSON.parse(e);return(null==n||null==(t=n.data)?void 0:t.getActiveUserDevPortalContext)||{}}))}function m(e){return fetch((0,r.S)(e)+"/graphql/getUserSessions",{method:"POST",headers:v,credentials:"include",mode:"cors",body:p}).then((function(e){return e.text()})).then((function(e){var t,n=JSON.parse(e);return(null==n||null==(t=n.data)?void 0:t.getUserSessions)||[]}))}function f(){return(f=(0,s.Z)(c().mark((function e(t){var n,a,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:if(n=e.sent,(a=n.filter((function(e){return e.active}))).length){e.next=6;break}return e.abrupt("return",{});case 6:return r=a[0].userId,e.next=9,h(r,t);case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=!1,y=function(e,t){var n=e.customFields.runtime,s=(0,u.Wb)(e);if(!g&&!s.isLoading&&!s.context){g=!0;(function(e){return f.apply(this,arguments)})(n).then((function(n){return g=!1,(0,u.rD)(e,!1),(0,u.j6)(e,n),t(Date.now()),n})).then((function(e){return function(e,t){return fetch((0,r.S)(t)+"/graphql/getActiveUserDevPortalDemoRecord",{method:"POST",headers:Object.assign({},o,{uid:e}),credentials:"include",mode:"cors",body:i}).then((function(e){return e.text()})).then((function(e){var t,n=JSON.parse(e);return(null==n||null==(t=n.data)?void 0:t.getActiveUserDevPortalDemoBlabItem)||{}}))}(e.userId,n)})).then((function(n){(0,a.LW)(e,n),t(Date.now())})).catch((function(){g=!1,(0,u.rD)(e,!1),t(Date.now())}))}}},8793:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(2263),r=n(1736),i=n(7294),o=n(855),u=n(9212),s=n(6188),l=n(6010);const c="codeBlock_L4rF";var d=n(7185);function p(e){var t,n,p,v=e.children,h=e.language,m=e.title,f=(0,i.useState)(Date.now()),g=(f[0],f[1]),y=(0,a.Z)().siteConfig;(0,i.useEffect)((function(){(0,u.B)(y,g)}),[]);var b=null!=(t=(0,o.IB)(y))?t:o.U4,k=null!=(n=(0,d.P4)(y))?n:d.hx,A=null!=(p=(0,d.Kh)(y))?p:d.Ye,w=(0,s.x)(y);function I(e){return(e||"").replace(new RegExp("#USER_API_KEY","g"),b).replace(new RegExp("#BASE_URL","g"),w).replace(new RegExp("#RECORD_ID","g"),k).replace(new RegExp("#RECORD_TITLE","g"),A)}var N=("string"==typeof v?[v]:Array.isArray(v)?v:[]).map((function(e){return"string"==typeof e?I(e):e})),T=I(m);return i.createElement("div",{className:(0,l.Z)(c)},i.createElement(r.Z,{title:T,language:h},N))}},7185:(e,t,n)=>{n.d(t,{Kh:()=>u,LW:()=>o,P4:()=>s,Ye:()=>a,hx:()=>r});var a="Demo Record",r=123;function i(e){return e.demoRecord||{}}function o(e,t){e.demoRecord=null!=t?t:{}}function u(e){return i(e).title}function s(e){return i(e).id}},6188:(e,t,n)=>{n.d(t,{S:()=>i,x:()=>o});var a="https://tapeapp.com",r="https://api.tapeapp.com";function i(e){var t,n="string"==typeof e?e:null==e||null==(t=e.customFields)?void 0:t.runtime;return"PRD"===n.toUpperCase()?a:"DEV"===n.toUpperCase()?"http://localhost:3000":a}function o(e){var t,n="string"==typeof e?e:null==e||null==(t=e.customFields)?void 0:t.runtime;return"PRD"===n.toUpperCase()?r:"DEV"===n.toUpperCase()?"http://localhost:3000":r}},8215:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294);function r(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},9877:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(7462),r=n(7294),i=n(2389),o=n(3725),u=n(6010);const s="tabItem_LplD";function l(e){var t,n,i,l=e.lazy,c=e.block,d=e.defaultValue,p=e.values,v=e.groupId,h=e.className,m=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=p?p:m.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),g=(0,o.lx)(f,(function(e,t){return e.value===t.value}));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var y=null===d?d:null!=(t=null!=d?d:null==(n=m.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(i=m[0])?void 0:i.props.value;if(null!==y&&!f.some((function(e){return e.value===y})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+y+'" but none of its children has the corresponding value. Available values are: '+f.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=(0,o.UB)(),k=b.tabGroupChoices,A=b.setTabGroupChoices,w=(0,r.useState)(y),I=w[0],N=w[1],T=[],_=(0,o.o5)().blockElementScrollPositionUntilNextRender;if(null!=v){var x=k[v];null!=x&&x!==I&&f.some((function(e){return e.value===x}))&&N(x)}var D=function(e){var t=e.currentTarget,n=T.indexOf(t),a=f[n].value;a!==I&&(_(t),N(a),null!=v&&A(v,a))},E=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=T.indexOf(e.currentTarget)+1;n=T[a]||T[0];break;case"ArrowLeft":var r=T.indexOf(e.currentTarget)-1;n=T[r]||T[T.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":c},h)},f.map((function(e){var t=e.value,n=e.label,i=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:I===t?0:-1,"aria-selected":I===t,key:t,ref:function(e){return T.push(e)},onKeyDown:E,onFocus:D,onClick:D},i,{className:(0,u.Z)("tabs__item",s,null==i?void 0:i.className,{"tabs__item--active":I===t})}),null!=n?n:t)}))),l?(0,r.cloneElement)(m.filter((function(e){return e.props.value===I}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},m.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==I})}))))}function c(e){var t=(0,i.Z)();return r.createElement(l,(0,a.Z)({key:String(t)},e))}},3417:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>v,contentTitle:()=>d,default:()=>f,frontMatter:()=>c,metadata:()=>p,toc:()=>h});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=n(8793),u=n(9877),s=n(8215),l=["components"],c={id:"authentication",title:"Authentication",sidebar_label:"Authentication"},d=void 0,p={unversionedId:"api/authentication",id:"api/authentication",title:"Authentication",description:"Requests use the HTTP Authorization header to both authenticate and authorize operations. The Tape API accepts bearer tokens in this header. Each Tape user has an user API key associated with it that acts as a bearer token to authentciate with the API.",source:"@site/docs/api/authentication.md",sourceDirName:"api",slug:"/api/authentication",permalink:"/docs/api/authentication",editUrl:"https://github.com/tape-dev/developers.tapeapp.com/edit/main/apps/dev-portal/docs/api/authentication.md",tags:[],version:"current",frontMatter:{id:"authentication",title:"Authentication",sidebar_label:"Authentication"},sidebar:"mainSidebar",previous:{title:"Introduction",permalink:"/docs/api/introduction"},next:{title:"Pagination",permalink:"/docs/api/pagination"}},v={},h=[{value:"Authentication errors",id:"authentication-errors",level:2}],m={toc:h};function f(e){var t=e.components,n=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Requests use the HTTP ",(0,i.kt)("inlineCode",{parentName:"p"},"Authorization")," header to both authenticate and authorize operations. The Tape API accepts bearer tokens in this header. Each Tape user has an user API key associated with it that acts as a bearer token to authentciate with the API.\nNote that your API key carries the same privileges as your user account, so be sure to keep it secret! However, if your API key gets leaked, you can always deactivate it and generate a new one inside your user settings."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Authentication via OAuth")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"In the future, Tape plans to support authentication flows via OAuth. For now, the user API key is the only way of authentication."))),(0,i.kt)("p",null,"Here's an example of how to correctly set the ",(0,i.kt)("inlineCode",{parentName:"p"},"Authorization")," header:"),(0,i.kt)(u.Z,{mdxType:"Tabs"},(0,i.kt)(s.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,i.kt)(o.Z,{language:"shell",mdxType:"ApiKeyCodeblock"},'curl #BASE_URL/v1/record/1 \\\n  -H "Authorization: Bearer #USER_API_KEY"\n')),(0,i.kt)(s.Z,{value:"http",label:"HTTP",mdxType:"TabItem"},(0,i.kt)(o.Z,{language:"http",mdxType:"ApiKeyCodeblock"},"GET /v1/record/1 HTTP/1.1\nHost: api.tapeapp.com\nAuthorization: Bearer #USER_API_KEY\n"))),(0,i.kt)("h2",{id:"authentication-errors"},"Authentication errors"),(0,i.kt)("p",null,"Tape returns comprehensive error messages for authentication failures:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Invalid key format validation error"',title:'"Invalid',key:!0,format:!0,validation:!0,'error"':!0},'{\n  "status_code": 400,\n  "endpoint": "/v1/record/1",\n  "error_code": "validation",\n  "error_message": "Invalid user API key for accessing endpoint \'/v1/record/1\' (key has to start with \'user_key_\')"\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Invalid key signature validation error"',title:'"Invalid',key:!0,signature:!0,validation:!0,'error"':!0},'{\n  "status_code": 400,\n  "endpoint": "/v1/record/1",\n  "error_code": "validation",\n  "error_message": "Invalid user API key for accessing endpoint \'/v1/record/1\' (signature check not passed, key is malformed)"\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Authentication missing error"',title:'"Authentication',missing:!0,'error"':!0},'{\n  "status_code": 401,\n  "endpoint": "/v1/record/1",\n  "error_code": "dev_api_authentication",\n  "error_message": "Missing authentication for Dev-API endpoint: \'/v1/record/1\' (no user API key provided)"\n}\n')))}f.isMDXComponent=!0}}]);