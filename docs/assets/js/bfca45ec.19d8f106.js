"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[9239],{7859:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(2263),a=n(1483),i=n(1736),o=n(6010),l=n(7294);const s="codeBlock_FKPJ";function u(e){var t=e.children,n=e.language,u=e.title,c=(0,l.useState)((0,a.W5)()),p=c[0],d=c[1];(0,l.useEffect)((0,a.kw)((0,r.Z)(),d),[]);var v=(0,a.hd)(p),m=(0,a.jM)(p),f=(0,a.dz)(p),h=(0,a.xe)(p);function g(e){return(e||"").replace(new RegExp("#USER_API_KEY","g"),v).replace(new RegExp("#BASE_URL","g"),h).replace(new RegExp("#RECORD_ID","g"),m).replace(new RegExp("#RECORD_TITLE","g"),f)}var b=("string"==typeof t?[t]:Array.isArray(t)?t:[]).map((function(e){return"string"==typeof e?g(e):e})),k=g(u);return l.createElement("div",{className:(0,o.Z)(s)},l.createElement(i.Z,{title:k,language:n},b))}},4757:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294);function a(e){var t,n=e.method,a=e.url;switch(n){case"GET":t="#007959";break;case"POST":t="#0071BB";break;case"PUT":t="#DEA700";break;case"DELETE":t="#DF245E"}return r.createElement("div",{style:{display:"flex",flexDirection:"row",fontSize:"15px",lineHeight:"15px",marginBottom:"13px"}},r.createElement("span",{style:{backgroundColor:t,color:"var(--tape-color-lightest)",borderRadius:"999px",padding:"4px 9px 3px 9px",fontWeight:700,fontSize:"11px",lineHeight:"11px"}},n.toUpperCase()),r.createElement("span",{style:{color:"var(--tape-color-darker)",marginLeft:"9px",marginTop:"2px"}},a))}},1483:(e,t,n)=>{n.d(t,{hd:()=>E,M:()=>T,hU:()=>C,S$:()=>R,W5:()=>o,jM:()=>U,dz:()=>I,xe:()=>x,kw:()=>L});var r,a,i=(r=[],a={initializing:!1,runtime:"PRD",activeUserContext:void 0,activeUserContextIsLoading:!0,demoRecord:void 0,demoRecordIsLoading:!0},{get:function(){return a},set:function(e){a!==e&&(a=e,r.forEach((function(e){return e(a)})))},subscribe:function(e){return r.push(e),function(){return function(e){r=r.filter((function(t){return t!==e}))}(e)}}});function o(){return i.get()}function l(e){i.set(e)}var s=n(5861),u=n(7757),c=n.n(u);function p(e){return"DEV"===e?"http://localhost:3000":"https://tapeapp.com"}var d=JSON.stringify({operationName:null,variables:{},query:"{\n  getActiveUserDevPortalContext {\n    ... on ActiveUserDevPortalContextDto {\n      userId\n      apiKey\n      user {\n        id\n        primaryName\n      }\n    }\n  }\n}\n"}),v=JSON.stringify({operationName:null,variables:{},query:"{\n      getUserSessions {\n        active\n        userId\n      }\n    }\n"});function m(e,t){return fetch(e+"/graphql/getActiveUserDevPortalContext",{method:"POST",headers:{"content-type":"application/json",uid:t},credentials:"include",mode:"cors",body:d}).then((function(e){return e.text()})).then((function(e){var t,n=JSON.parse(e);return(null==n||null==(t=n.data)?void 0:t.getActiveUserDevPortalContext)||{}}))}function f(e){return fetch(e+"/graphql/getUserSessions",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",mode:"cors",body:v}).then((function(e){return e.text()})).then((function(e){var t,n=JSON.parse(e);return(null==n||null==(t=n.data)?void 0:t.getUserSessions)||[]}))}function h(e){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(c().mark((function e(t){var n,r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:if(n=e.sent,(r=n.filter((function(e){return e.active}))).length){e.next=6;break}return e.abrupt("return",{});case 6:return a=r[0].userId,e.next=9,m(t,a);case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=JSON.stringify({operationName:null,variables:{},query:"{\n  getActiveUserDevPortalDemoBlabItem {\n    id\n    title\n  }\n}"});function k(e,t){return fetch(e+"/graphql/getActiveUserDevPortalDemoRecord",{method:"POST",headers:{"content-type":"application/json",uid:t},credentials:"include",mode:"cors",body:b}).then((function(e){return e.text()})).then((function(e){var t,n=JSON.parse(e);return(null==n||null==(t=n.data)?void 0:t.getActiveUserDevPortalDemoBlabItem)||{}}))}function w(){return(w=(0,s.Z)(c().mark((function e(t){var n,r,a,i,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o().initializing){e.next=2;break}return e.abrupt("return");case 2:return l(Object.assign({},o(),{initializing:!0})),n=p(t),e.prev=4,e.next=7,h(n);case 7:if(a=e.sent,l(Object.assign({},o(),{activeUserContext:a,activeUserContextIsLoading:!1})),!(i=null==(r=a.user)?void 0:r.id)){e.next=15;break}return e.next=13,k(n,i);case 13:s=e.sent,l(Object.assign({},o(),{demoRecord:s,demoRecordIsLoading:!1}));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.error(e.t0),l(Object.assign({},o(),{activeUserContextIsLoading:!1,demoRecordIsLoading:!1}));case 21:case"end":return e.stop()}}),e,null,[[4,17]])})))).apply(this,arguments)}function y(e){return e.runtime}function x(e){return function(e){return"DEV"===e?"http://localhost:3000":"https://api.tapeapp.com"}(y(e))}function N(e){var t;return null!=(t=e.activeUserContext)?t:{}}function T(e){return e.activeUserContextIsLoading}function E(e){var t;return null!=(t=function(e){return N(e).apiKey}(e))?t:"user_key_replace_with_your_api_key"}function C(e){var t;return null==(t=N(e).user)?void 0:t.primaryName}function R(e){var t;return null!=(t=C(e))?t:"Developer"}function D(e){var t;return null!=(t=e.demoRecord)?t:{}}function U(e){var t;return null!=(t=function(e){return D(e).id}(e))?t:123}function I(e){var t;return null!=(t=function(e){return D(e).title}(e))?t:"Demo Record"}function L(e,t){var n,r,a=((null==e||null==(n=e.siteConfig)||null==(r=n.customFields)?void 0:r.runtime)||"PRD").trim().toUpperCase();return y(o())!==a&&l(Object.assign({},o(),{runtime:a})),function(e){w.apply(this,arguments)}(a),function(){return function(e){return i.subscribe(e)}(t)}}},8215:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294);function a(e){var t=e.children,n=e.hidden,a=e.className;return r.createElement("div",{role:"tabpanel",hidden:n,className:a},t)}},9877:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(7462),a=n(7294),i=n(2389),o=n(3725),l=n(6010);const s="tabItem_LplD";function u(e){var t,n,i,u=e.lazy,c=e.block,p=e.defaultValue,d=e.values,v=e.groupId,m=e.className,f=a.Children.map(e.children,(function(e){if((0,a.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=d?d:f.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),g=(0,o.lx)(h,(function(e,t){return e.value===t.value}));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var b=null===p?p:null!=(t=null!=p?p:null==(n=f.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(i=f[0])?void 0:i.props.value;if(null!==b&&!h.some((function(e){return e.value===b})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+b+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var k=(0,o.UB)(),w=k.tabGroupChoices,y=k.setTabGroupChoices,x=(0,a.useState)(b),N=x[0],T=x[1],E=[],C=(0,o.o5)().blockElementScrollPositionUntilNextRender;if(null!=v){var R=w[v];null!=R&&R!==N&&h.some((function(e){return e.value===R}))&&T(R)}var D=function(e){var t=e.currentTarget,n=E.indexOf(t),r=h[n].value;r!==N&&(C(t),T(r),null!=v&&y(v,r))},U=function(e){var t,n=null;switch(e.key){case"ArrowRight":var r=E.indexOf(e.currentTarget)+1;n=E[r]||E[0];break;case"ArrowLeft":var a=E.indexOf(e.currentTarget)-1;n=E[a]||E[E.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":c},m)},h.map((function(e){var t=e.value,n=e.label,i=e.attributes;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:function(e){return E.push(e)},onKeyDown:U,onFocus:D,onClick:D},i,{className:(0,l.Z)("tabs__item",s,null==i?void 0:i.className,{"tabs__item--active":N===t})}),null!=n?n:t)}))),u?(0,a.cloneElement)(f.filter((function(e){return e.props.value===N}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},f.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==N})}))))}function c(e){var t=(0,i.Z)();return a.createElement(u,(0,r.Z)({key:String(t)},e))}},7586:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>m,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=(n(7859),n(4757)),l=(n(9877),n(8215),["components"]),s={id:"link-preview",title:"Link Preview",sidebar_label:"Link Preview"},u=void 0,c={unversionedId:"api/resource/link-preview",id:"api/resource/link-preview",title:"Link Preview",description:"Tape generates link previews for URLs inside link fields or that are shared via comments, replies and chat messages. A link preview always has the id and url properties, all other properties (title, description, previewImage) are optional, depending on whether Tape was able to access the provided URL.",source:"@site/docs/api/resource/link-preview.md",sourceDirName:"api/resource",slug:"/api/resource/link-preview",permalink:"/docs/api/resource/link-preview",editUrl:"https://github.com/tape-dev/developers.tapeapp.com/edit/main/apps/dev-portal/docs/api/resource/link-preview.md",tags:[],version:"current",frontMatter:{id:"link-preview",title:"Link Preview",sidebar_label:"Link Preview"},sidebar:"mainSidebar",previous:{title:"File",permalink:"/docs/api/resource/file"},next:{title:"Introduction",permalink:"/docs/calculation/introduction"}},p={},d=[{value:"Create a link preview",id:"create-a-link-preview",level:2}],v={toc:d};function m(e){var t=e.components,n=(0,a.Z)(e,l);return(0,i.kt)("wrapper",(0,r.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Tape generates link previews for URLs inside link fields or that are shared via comments, replies and chat messages. A link preview always has the ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"url")," properties, all other properties (",(0,i.kt)("inlineCode",{parentName:"p"},"title"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"description"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"previewImage"),") are optional, depending on whether Tape was able to access the provided URL."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"There are many reasons why generating a link preview can take a long time or fail (website not reachable, website takes a long time to respond, ...). To prevent critical operations like creating a record to fail due to an unsuccessful link preview generation, Tape accepts only the URL as an input and will generate the full link preview after the operation was successful. Therefore, generating a link preview via the dedicated endpoint is optional and only needed if you want full control over the process."))),(0,i.kt)("h2",{id:"create-a-link-preview"},"Create a link preview"),(0,i.kt)(o.Z,{method:"POST",url:"https://api.tapeapp.com/v1/link-preview",mdxType:"EndpointBadge"}),(0,i.kt)("p",null,"Create a link preview by providing the ",(0,i.kt)("inlineCode",{parentName:"p"},"url")," property in the request body:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="\u27a1\ufe0f \xa0\xa0   Request"',title:'"\u27a1\ufe0f',"\xa0\xa0":!0,"":!0,'Request"':!0},'{\n  "url": "https://tapeapp.com" // The absolute url of the link to generate the preview for\n}\n')),(0,i.kt)("p",null,"The response will be a link preview object containing the information Tape could generate for the provided URL:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="\u2b05\ufe0f \xa0\xa0   Response"',title:'"\u2b05\ufe0f',"\xa0\xa0":!0,"":!0,'Response"':!0},'{\n  "id": 1, // The unique ID of the link preview object\n  "url": "https://tapeapp.com", // The absolute url of the link\n  "title": "Tape - Build your own powerful business platform", // The title of the link\'s website\n  "description": "Fully customizable. No-code. Low-code.", // The description of the link\'s website\n  "previewImage": {\n    // A representative thumbnail image for the link\'s website (e.g., the favicon)\n    "small": "https://s3.eu-central-1.amazonaws.com/tape-thumbnails/def09e9319ca30e9ab2bc13e061982",\n    "medium": "https://s3.eu-central-1.amazonaws.com/tape-thumbnails/82f3c2669deca95c16d1ad955734e0",\n    "large": "https://s3.eu-central-1.amazonaws.com/tape-thumbnails/f8f105f4daaced0f3f714b5ebb76ae"\n  }\n}\n')),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"previewImage")," property is a thumbnail object. Read more about thumbnails ",(0,i.kt)("a",{parentName:"p",href:"file#thumbnails"},"here"),"."))}m.isMDXComponent=!0}}]);